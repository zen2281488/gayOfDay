<p align="center">
  <img alt="Winner of Day Bot" src="https://img.shields.io/badge/Winner%20of%20Day%20Bot-Production-111827.png?style=for-the-badge&logo=vk&logoColor=white">
</p>

![License](https://img.shields.io/badge/License-MIT-green)
![Python](https://img.shields.io/badge/Python-3.11-blue)
![Docker](https://img.shields.io/badge/Docker-Compose-2496ED)
![VK API](https://img.shields.io/badge/VK-Bot-4C75A3)
![LLM](https://img.shields.io/badge/LLM-Groq%20%7C%20Venice-333333)

VK-–±–æ—Ç —Å–æ–æ–±—â–µ—Å—Ç–≤–∞: –≤—ã–±–∏—Ä–∞–µ—Ç ¬´–ø–æ–±–µ–¥–∏—Ç–µ–ª—è –¥–Ω—è¬ª –ø–æ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞, –≤–µ–¥–µ—Ç –ª–∏–¥–µ—Ä–±–æ—Ä–¥ –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –∫–∞–∫ —á–∞—Ç–±–æ—Ç —á–µ—Ä–µ–∑ LLM.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –≤—ã–±–æ—Ä ¬´–ø–æ–±–µ–¥–∏—Ç–µ–ª—è –¥–Ω—è¬ª —Å –ø—Ä–∏—á–∏–Ω–æ–π –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ SQLite
- –ª–∏–¥–µ—Ä–±–æ—Ä–¥ –∑–∞ –º–µ—Å—è—Ü –∏ –∑–∞ –≤—Å–µ –≤—Ä–µ–º—è
- Groq –∏ Venice, —Å–º–µ–Ω–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞/–º–æ–¥–µ–ª–∏/—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –Ω–∞ –ª–µ—Ç—É
- –∞–≤—Ç–æ-–∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã –∏ —Ç–∞–π–º–µ—Ä –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ (–ú–°–ö)
- —á–∞—Ç–±–æ—Ç –ø–æ —É–ø–æ–º–∏–Ω–∞–Ω–∏—é –∏ –≤ –õ–° –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- Docker Compose –∑–∞–ø—É—Å–∫

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Docker)

1) –°–æ–∑–¥–∞–π `.env` (—Å–º. —à–∞–±–ª–æ–Ω –Ω–∏–∂–µ)
2) –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

```bash
docker compose up -d --build
```

3) –õ–æ–≥–∏:

```bash
docker compose logs -f vk-bot
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)

### –ú–∏–Ω–∏–º—É–º –¥–ª—è –∑–∞–ø—É—Å–∫–∞
```
VK_TOKEN=vk1.a.***
USER_PROMPT_TEMPLATE=–õ–æ–≥ —á–∞—Ç–∞:\n{{CHAT_LOG}}\n\n–ö—Ç–æ –∏–∑ –Ω–∏—Ö –ø–æ–±–µ–¥–∏—Ç–µ–ª—å –¥–Ω—è? –û—Ç–≤–µ—Ç ‚Äî —Å—Ç—Ä–æ–≥–æ JSON.
```

### LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
```
LLM_PROVIDER=groq|venice

GROQ_API_KEY=gsk_***
GROQ_MODEL=llama-3.3-70b-versatile
GROQ_TEMPERATURE=0.9

VENICE_API_KEY=vnk_***
VENICE_MODEL=venice-uncensored
VENICE_BASE_URL=https://api.venice.ai/api/v1/
VENICE_TEMPERATURE=0.9
VENICE_TIMEOUT=30
```

### –ß–∞—Ç–±–æ—Ç
```
CHATBOT_ENABLED=true
CHAT_SYSTEM_PROMPT=–û—Ç–≤–µ—á–∞–π –∫—Ä–∞—Ç–∫–æ –∏ –ø–æ-—Ä—É—Å—Å–∫–∏.
CHAT_MAX_TOKENS=300
CHAT_RESPONSE_MAX_CHARS=600
CHAT_MESSAGE_MAX_CHARS=300
CHAT_HISTORY_LIMIT=6
CHAT_BOT_FULL_LIMIT=2
CHAT_BOT_SHORT_LIMIT=2
CHAT_BOT_FULL_MAX_CHARS=800
CHAT_BOT_SHORT_MAX_CHARS=160
```

### –î–æ—Å—Ç—É–ø
```
ALLOWED_PEER_ID=2000000001,2000000002
ADMIN_USER_ID=123456789
```

### –ò–≥—Ä–∞ –∏ –¥–∞–Ω–Ω—ã–µ
```
GAME_TITLE=–ü–∏–¥–æ—Ä –¥–Ω—è
LEADERBOARD_TITLE=üìä –ü–∏–¥–µ—Ä–±–æ—Ä–¥
DB_PATH=./data/chat_history.db
```

## –ö–æ–º–∞–Ω–¥—ã
–ö–æ–º–∞–Ω–¥—ã –Ω–µ—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É.

–ò–≥—Ä–∞:
- `/–∫—Ç–æ` ‚Äî –Ω–∞–π—Ç–∏ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –¥–Ω—è
- `/—Å–±—Ä–æ—Å` ‚Äî —Å–±—Ä–æ—Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å–µ–≥–æ–¥–Ω—è
- `/–ª–∏–¥–µ—Ä–±–æ—Ä–¥` ‚Äî –ª–∏–¥–µ—Ä–±–æ—Ä–¥ –º–µ—Å—è—Ü–∞ –∏ –≤—Å–µ –≤—Ä–µ–º—è
- `/–≤—Ä–µ–º—è 14:00` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–≤—Ç–æ-–∑–∞–ø—É—Å–∫ (–ú–°–ö)
- `/—Å–±—Ä–æ—Å_–≤—Ä–µ–º–µ–Ω–∏` ‚Äî —É–¥–∞–ª–∏—Ç—å —Ç–∞–π–º–µ—Ä
- `/—Ç–∞–π–º–µ—Ä_–ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ 05-18-30` ‚Äî —Ç–∞–π–º–µ—Ä –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ (–ú–°–ö)
- `/—Å–±—Ä–æ—Å_—Ç–∞–π–º–µ—Ä–∞_–ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞` ‚Äî —Å–±—Ä–æ—Å —Ç–∞–π–º–µ—Ä–∞ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ LLM:
- `/–ø—Ä–æ–≤–∞–π–¥–µ—Ä groq|venice`
- `/—Å–ø–∏—Å–æ–∫_–º–æ–¥–µ–ª–µ–π <–ø—Ä–æ–≤–∞–π–¥–µ—Ä>`
- `/—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å_–º–æ–¥–µ–ª—å <–ø—Ä–æ–≤–∞–π–¥–µ—Ä> <id>`
- `/—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å_–∫–ª—é—á <–ø—Ä–æ–≤–∞–π–¥–µ—Ä> <–∫–ª—é—á>`
- `/—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å_—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É <0.0-2.0>`

–ü—Ä–æ–º–ø—Ç:
- `/–ø—Ä–æ–º—Ç` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π USER_PROMPT_TEMPLATE
- `/–ø—Ä–æ–º—Ç <—Ç–µ–∫—Å—Ç>` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å USER_PROMPT_TEMPLATE (–≤ –ø–∞–º—è—Ç–∏)

## –≠–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫:
```bash
git pull
docker compose up -d --build
```

## –î–∞–Ω–Ω—ã–µ –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å
- SQLite —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `./data/chat_history.db`.
- –°–µ–∫—Ä–µ—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `.env`, –Ω–µ –∫–æ–º–º–∏—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ: `bot.py`.
- –õ–æ–≥–∏ –∏–¥—É—Ç –≤ STDOUT –∏ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è `docker compose logs`.

## –õ–∏—Ü–µ–Ω–∑–∏—è
MIT, —Å–º. `LICENSE`.
